<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.A.V. - Sophie Administratif et Vie</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #2c3e50;
            color: #ecf0f1;
            margin: 0;
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: #34495e;
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .sidebar h1 {
            color: #f1c40f;
            font-size: 1.8em;
            margin-bottom: 30px;
            cursor: pointer;
        }

        .menu-list {
            list-style: none;
            padding: 0;
            width: 100%;
        }

        .menu-item {
            margin-bottom: 15px;
        }

        .menu-link {
            display: block;
            background-color: #2980b9;
            color: #ecf0f1;
            padding: 12px;
            text-decoration: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            transition: background-color 0.3s ease;
            text-align: center;
        }
        
        .menu-link:hover {
            background-color: #3498db;
        }

        .main-content {
            flex-grow: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .section {
            width: 100%;
            max-width: 900px;
            margin-bottom: 50px;
            display: none;
        }
        
        .section.active {
            display: block;
        }

        /* --- Accueil --- */
        #home h2 {
            color: #f1c40f;
            font-size: 2.5em;
            text-align: center;
        }

        #home p {
            font-size: 1.2em;
            max-width: 800px;
            margin: 20px auto;
            line-height: 1.6;
            text-align: center;
        }

        .home-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-top: 30px;
            margin: 30px auto 0;
            display: block;
            transform: translateX(20px);
        }

        .contact-home {
            text-align: center;
            margin-top: 40px;
            line-height: 1.6;
            font-size: 1.1em;
        }
        
        .contact-home a {
            color: #ecf0f1;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-home a:hover {
            color: #f1c40f;
            text-decoration: underline;
        }

        /* --- Services --- */
        #services h2, #calculator h2, #booking h2, #contact h2 {
            text-align: center;
            color: #f1c40f;
            margin-bottom: 30px;
        }
        
        .services-list {
            list-style: none;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .service-card {
            background-color: #34495e;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.2s ease;
        }

        .service-card:hover {
            transform: translateY(-5px);
        }
        
        .service-card h3 {
            color: #ecf0f1;
            margin-top: 0;
        }

        /* --- Calculateur --- */
        .calculator-container {
            background-color: #34495e;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            width: 100%;
            max-width: 500px;
            text-align: center;
            margin: 0 auto;
        }

        .service-options {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            margin-bottom: 25px;
        }

        .service-option {
            background-color: #2980b9;
            color: white;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            flex-grow: 1;
            transition: background-color 0.3s ease;
            font-weight: bold;
        }

        .service-option:hover {
            background-color: #3498db;
        }

        .service-option.selected {
            background-color: #2ecc71;
            box-shadow: 0 0 10px rgba(46, 204, 113, 0.5);
        }
        
        .service-config {
            margin-top: 20px;
        }
        
        .input-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #7f8c8d;
            border-radius: 5px;
            background-color: #3b5062;
            color: white;
            box-sizing: border-box;
        }

        #calculate-btn {
            background-color: #f1c40f;
            color: #2c3e50;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        #calculate-btn:hover {
            background-color: #f39c12;
        }

        #results {
            margin-top: 30px;
            padding: 20px;
            background-color: #2c3e50;
            border-radius: 8px;
            display: none;
            text-align: left;
        }
        
        #results h3 {
            color: #f1c40f;
            margin-top: 0;
        }
        
        /* --- Rendez-vous --- */
        #booking p {
            font-size: 1.1em;
            text-align: center;
            max-width: 600px;
            margin: 0 auto 20px;
        }
        
        #booking iframe {
            width: 100%;
            min-height: 600px; /* J'ai remplacé height par min-height pour une meilleure flexibilité */
            border: none;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        /* --- Contact --- */
        #contact .contact-info {
            text-align: center;
            margin-bottom: 20px;
        }
        #contact .contact-info p {
            margin: 5px 0;
        }
        
        #contact .contact-info a {
            color: #ecf0f1;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        #contact .contact-info a:hover {
            color: #f1c40f;
            text-decoration: underline;
        }
        
        /* Styles pour les petits écrans (téléphones) */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                padding: 10px;
                flex-direction: row;
                justify-content: space-around;
                flex-wrap: wrap;
                box-shadow: none;
            }
            
            .sidebar h1 {
                display: none;
            }
            
            .menu-list {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .menu-item {
                margin: 5px;
            }

            .menu-link {
                font-size: 0.9em;
                padding: 8px 12px;
            }
            
            .main-content {
                padding: 10px;
            }
            
            #booking iframe {
                 min-height: 400px;
            }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <h1 id="site-title">S.A.V.</h1>
        <ul class="menu-list">
            <li class="menu-item"><a href="#home" class="menu-link active" data-section="home">Accueil</a></li>
            <li class="menu-item"><a href="#services" class="menu-link" data-section="services">Services</a></li>
            <li class="menu-item"><a href="#calculator" class="menu-link" data-section="calculator">Mon Devis</a></li>
            <li class="menu-item"><a href="#booking" class="menu-link" data-section="booking">Rendez-vous</a></li>
            <li class="menu-item"><a href="#contact" class="menu-link" data-section="contact">Contact</a></li>
        </ul>
    </div>

    <div class="main-content">
        <div id="home" class="section active">
            <h2>S.A.V. - Sophie Administratif et Vie</h2>
            <p><strong>Gagnez du temps, nous gérons le reste.</strong></p>
            <p>Notre mission est de simplifier votre quotidien en prenant en charge toutes vos démarches administratives. Que ce soit en personne ou en visio, nous vous offrons un accompagnement personnalisé pour que vous puissiez vous concentrer sur l'essentiel.</p>
            <img src="123.jpg" alt="Photo d'aide administrative" class="home-image">
            <div class="contact-home">
                <p>4 impasse des terres franches<br>41400 Monthou-sur-Cher</p>
                <p><a href="tel:0661095569">☎️ 06 61 09 55 69</a></p>
                <p><a href="mailto:marino.sophie41@gmail.com">✉️ marino.sophie41@gmail.com</a></p>
            </div>
        </div>

        <div id="services" class="section">
            <h2>Nos Services d'Aide Administrative</h2>
            <ul class="services-list">
                <li class="service-card">
                    <h3>Visio & Réel</h3>
                    <p>Démarches pour impôts, décès, retraite et tous vos contrats (électricité, eau, internet, banque, etc.).</p>
                </li>
                <li class="service-card">
                    <h3>Gestion de budget</h3>
                    <p>Aide à l'organisation de vos factures et suivi de vos dépenses.</p>
                </li>
                <li class="service-card">
                    <h3>Aides sociales</h3>
                    <p>Accompagnement pour remplir les dossiers (CAF, APL, prime d'activité, etc.).</p>
                </li>
                <li class="service-card">
                    <h3>Scolarité des enfants</h3>
                    <p>Assistance pour les inscriptions et les demandes de bourses.</p>
                </li>
                <li class="service-card">
                    <h3>Accompagnement en déplacement</h3>
                    <p>Accompagnement pour vos courses, rendez-vous administratifs ou diverses démarches.</p>
                </li>
                <li class="service-card">
                    <h3>Rédaction de courriers</h3>
                    <p>Rédaction de lettres officielles (réclamation, résiliation, etc.).</p>
                </li>
                <li class="service-card">
                    <h3>Organisation de documents</h3>
                    <p>Classement et numérisation de vos documents importants.</p>
                </li>
                <li class="service-card">
                    <h3>Litiges et médiation</h3>
                    <p>Aide à la préparation de dossiers en cas de litige.</p>
                </li>
                <li class="service-card">
                    <h3>Démarches de santé</h3>
                    <p>Assistance pour les remboursements mutuelle et les arrêts maladie.</p>
                </li>
            </ul>
        </div>

        <div id="calculator" class="section">
            <h2>Calculez votre devis</h2>
            <div class="calculator-container">
                <div class="service-options">
                    <div class="service-option" data-type="visio">Aide en Visio (20 €)</div>
                    <div class="service-option" data-type="domicile">Aide à Domicile (30 €)</div>
                    <div class="service-option" data-type="transport">Accompagnement</div>
                </div>
                
                <div id="simple-service-config" class="service-config" style="display: none;">
                    <div class="input-group">
                        <label for="client-address">Votre adresse (pour le calcul des frais de déplacement) :</label>
                        <input type="text" id="client-address" placeholder="Ex: 10 rue de la Paix, 75001 Paris">
                    </div>
                </div>
                
                <div id="transport-service-config" class="service-config" style="display: none;">
                    <div class="input-group">
                        <label for="start-address">Adresse de départ :</label>
                        <input type="text" id="start-address" placeholder="Votre domicile, par exemple">
                    </div>
                    <div class="input-group">
                        <label for="destination-address">Destination :</label>
                        <input type="text" id="destination-address" placeholder="Ex: CAF Blois, Mairie de Romorantin">
                    </div>
                     <div class="input-group">
                        <label for="time-spent">Temps passé sur place (en heures) :</label>
                        <input type="number" id="time-spent" min="0" value="1">
                    </div>
                </div>
                
                <button id="calculate-btn" style="display: none;">Calculer le prix</button>

                <div id="results">
                    <h3>Votre Devis Estimé :</h3>
                    <p id="result-service"></p>
                    <p id="result-travel"></p>
                    <hr>
                    <p><strong>Total : <span id="result-total"></span></strong></p>
                </div>
            </div>
        </div>

        <div id="booking" class="section">
            <h2>Prenez Rendez-vous</h2>
            <p>Sélectionnez le créneau qui vous convient le mieux en consultant mon agenda en ligne.</p>
            <iframe src="https://calendar.app.google/UYg4wEg4yJnp156Z7"></iframe>
        </div>

        <div id="contact" class="section">
            <h2>Contactez-moi</h2>
            <p>N'hésitez pas à me contacter pour toute question ou demande spécifique.</p>
            <div class="contact-info">
                <p><strong>Email :</strong> <a href="mailto:marino.sophie41@gmail.com">✉️ marino.sophie41@gmail.com</a></p>
                <p><strong>Téléphone :</strong> <a href="tel:0661095569">☎️ 06 61 09 55 69</a></p>
            </div>
        </div>
    </div>

    <script>
        // Gestion de la navigation
        const menuLinks = document.querySelectorAll('.menu-link');
        const sections = document.querySelectorAll('.section');
        const siteTitle = document.getElementById('site-title');

        menuLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = e.target.dataset.section;
                
                menuLinks.forEach(l => l.classList.remove('active'));
                e.target.classList.add('active');
                
                sections.forEach(s => {
                    s.classList.remove('active');
                    if (s.id === sectionId) {
                        s.classList.add('active');
                    }
                });
            });
        });
        
        siteTitle.addEventListener('click', (e) => {
            e.preventDefault();
            sections.forEach(s => s.classList.remove('active'));
            document.getElementById('home').classList.add('active');
            menuLinks.forEach(l => l.classList.remove('active'));
            document.querySelector('.menu-link[data-section="home"]').classList.add('active');
        });

        // --- Logique du Calculateur ---
        const DOMICILE_BASE_PRICE = 30;
        const VISIO_BASE_PRICE = 20;
        const TRAVEL_RATE = 0.60; // Prix du kilomètre
        const HOURLY_RATE = 20; // Prix de l'heure sur place
        const MY_ADDRESS = "4 impasse des terres franches, 41400 Monthou-sur-Cher";

        const serviceOptions = document.querySelectorAll('.service-option');
        const simpleServiceConfig = document.getElementById('simple-service-config');
        const transportServiceConfig = document.getElementById('transport-service-config');
        const clientAddressInput = document.getElementById('client-address');
        const startAddressInput = document.getElementById('start-address');
        const destinationAddressInput = document.getElementById('destination-address');
        const timeSpentInput = document.getElementById('time-spent');
        const calculateBtn = document.getElementById('calculate-btn');
        const resultsDiv = document.getElementById('results');
        const resultService = document.getElementById('result-service');
        const resultTravel = document.getElementById('result-travel');
        const resultTotal = document.getElementById('result-total');

        let selectedServiceType = '';

        serviceOptions.forEach(option => {
            option.addEventListener('click', () => {
                serviceOptions.forEach(o => o.classList.remove('selected'));
                option.classList.add('selected');
                selectedServiceType = option.dataset.type;
                
                // On cache toutes les configurations par défaut
                simpleServiceConfig.style.display = 'none';
                transportServiceConfig.style.display = 'none';
                calculateBtn.style.display = 'none';
                resultsDiv.style.display = 'none';

                if (selectedServiceType === 'domicile') {
                    simpleServiceConfig.style.display = 'block';
                    calculateBtn.style.display = 'block';
                } else if (selectedServiceType === 'transport') {
                    transportServiceConfig.style.display = 'block';
                    calculateBtn.style.display = 'block';
                } else {
                    calculateVisioPrice();
                }
            });
        });

        calculateBtn.addEventListener('click', () => {
            if (selectedServiceType === 'domicile') {
                calculateDomicilePrice();
            } else if (selectedServiceType === 'transport') {
                calculateTransportPrice();
            }
        });

        function calculateVisioPrice() {
            resultService.textContent = `Prestation en visio : ${VISIO_BASE_PRICE} €`;
            resultTravel.textContent = `Frais de déplacement : 0 €`;
            resultTotal.textContent = `${VISIO_BASE_PRICE} €`;
            resultsDiv.style.display = 'block';
        }
        
        // Fonction de simulation de distance (à remplacer par une vraie API)
        async function getDistance(start, end) {
            console.log(`Simulation de la distance entre "${start}" et "${end}"...`);
            await new Promise(resolve => setTimeout(resolve, 1000));
            // Simule une distance aléatoire pour l'exemple
            return Math.floor(Math.random() * 46) + 5;
        }

        async function calculateDomicilePrice() {
            const clientAddress = clientAddressInput.value.trim();
            if (clientAddress === '') {
                alert('Veuillez entrer votre adresse pour calculer les frais de déplacement.');
                return;
            }

            resultsDiv.style.display = 'block';
            resultService.textContent = 'Calcul en cours...';
            resultTravel.textContent = '';
            resultTotal.textContent = '';
            
            try {
                const distanceKm = await getDistance(MY_ADDRESS, clientAddress);
                const travelCost = (distanceKm * 2 * TRAVEL_RATE).toFixed(2);
                const totalCost = (DOMICILE_BASE_PRICE + parseFloat(travelCost)).toFixed(2);
                
                resultService.textContent = `Prestation à domicile : ${DOMICILE_BASE_PRICE} €`;
                resultTravel.textContent = `Frais de déplacement (${distanceKm} km x 2) : ${travelCost} €`;
                resultTotal.textContent = `${totalCost} €`;
                
            } catch (error) {
                console.error('Erreur de calcul:', error);
                resultTotal.textContent = 'Erreur lors du calcul. Veuillez réessayer.';
            }
        }
        
        async function calculateTransportPrice() {
            const startAddress = startAddressInput.value.trim();
            const destinationAddress = destinationAddressInput.value.trim();
            const timeSpent = parseFloat(timeSpentInput.value);

            if (startAddress === '' || destinationAddress === '' || isNaN(timeSpent) || timeSpent <= 0) {
                alert('Veuillez renseigner toutes les informations de transport correctement.');
                return;
            }

            resultsDiv.style.display = 'block';
            resultService.textContent = 'Calcul en cours...';
            resultTravel.textContent = '';
            resultTotal.textContent = '';
            
            try {
                // Calcul du coût du temps passé sur place
                const timeCost = (timeSpent * HOURLY_RATE).toFixed(2);
                
                // Calcul du trajet aller-retour
                const distanceAller = await getDistance(startAddress, destinationAddress);
                const distanceRetour = await getDistance(destinationAddress, startAddress); // Simule le retour
                const totalDistance = distanceAller + distanceRetour;
                const travelCost = (totalDistance * TRAVEL_RATE).toFixed(2);
                
                const totalCost = (parseFloat(timeCost) + parseFloat(travelCost)).toFixed(2);
                
                resultService.textContent = `Prestation (rendez-vous) : ${timeCost} € (${timeSpent} heure(s) à ${HOURLY_RATE} €/h)`;
                resultTravel.textContent = `Frais de déplacement (${totalDistance} km aller-retour) : ${travelCost} €`;
                resultTotal.textContent = `${totalCost} €`;
                
            } catch (error) {
                console.error('Erreur de calcul:', error);
                resultTotal.textContent = 'Erreur lors du calcul. Veuillez réessayer.';
            }
        }
    </script>
</body>
</html>